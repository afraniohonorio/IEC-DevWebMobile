<!DOCTYPE html>
<html>
	<head>
		<title>Trabalho Prático WEB Mobile</title>
		<meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

<!--[if lt IE 9]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js">
</script>
<![endif]-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script type="text/javascript">

$.ajax({
  url: 'https://randomuser.me/api/',
  dataType: 'json',
  success: function(data){
    console.log(data);    
    var aux = data.results;
    $("#txtSexo").val(aux[0].user.gender); 
    $("#txtTitulo").val(aux[0].user.name.title);
 	$("#txtPrimeiro").val(aux[0].user.name.first);
    $("#txtUltimo").val(aux[0].user.name.last);
    $("#txtRua").val(aux[0].user.location.street);
    $("#txtCidade").val(aux[0].user.location.city);
    $("#txtEstado").val(aux[0].user.location.state);
    $("#txtCep").val(aux[0].user.location.zip);
    $("#txtUsuario").val(aux[0].user.username);
 	$("#txtEmail").val(aux[0].user.email);
    $("#txtSenha").val(aux[0].user.password);
    $("#txtTelefone").val(aux[0].user.phone);
 	$("#txtCelular").val(aux[0].user.cell);
 	$("#txtNacionalidade").val(data.nationality);
 	$("#txtLarge").val(aux[0].user.picture.large);
 	$("#txtMedium").val(aux[0].user.picture.medium);
 	$("#txtThumbnail").val(aux[0].user.picture.thumbnail);
 	
 	
  }
});

$(function(){ 
	listaUsuarios = window.localStorage.getItem("listaUsuarios");// Recupera os dados armazenados 
	listaUsuarios = JSON.parse(listaUsuarios); // Converte string para objeto 
	if(listaUsuarios == null) // Caso não haja conteúdo, iniciamos um vetor vazio 
		listaUsuarios = []; 
});

function Adicionar(){ 
	var usuario = JSON.stringify({ 
		
		Sexo : $("#txtSexo").val(),
    	Titulo : $("#txtTitulo").val(),
 		Primeiro : $("#txtPrimeiro").val(),
    	Ultimo : $("#txtUltimo").val(),
    	Rua : $("#txtRua").val(),
    	Cidade : $("#txtCidade").val(),
    	Estado : $("#txtEstado").val(),
    	Cep : $("#txtCep").val(),
    	Usuario : $("#txtUsuario").val(),
 		Email : $("#txtEmail").val(),
    	Senha : $("#txtSenha").val(),
    	Telefone : $("#txtTelefone").val(),
 		Celular : $("#txtCelular").val(),
 		Large : $("#txtLarge").val(),
 		Medium : $("#txtMedium").val(),
 		Thumbnail : $("#txtThumbnail").val(),
 		Nacionalidade : $("#txtNacionalidade").val()
 	}); 
	listaUsuarios.push(usuario); 
	window.localStorage.setItem("listaUsuarios", JSON.stringify(listaUsuarios)); 
	alert("Registro adicionado."); 
	return true; 
}

$(document).ready(function(){
    $("form").submit(function(){
        return Adicionar(); 
    });
});


</script>

<style>
	body {font-family: Verdana, sans-serif; font-size:0.8em;}
	 nav, section, article, footer
		{border:1px solid grey; margin:5px; padding:8px;}
	nav ul {margin:0; padding:0;}
	nav ul li {display:inline; margin:5px;}
</style>
	</head>

<body>

	<header>
		<h1><i>Trabalho Prático WEB Mobile</i></h1>
	</header>

	<nav>
		<ul class="nav nav-pills">
  			<li role="presentation"><a href="lista.html"><span style="font-size: large">Lista de Usuários</a></span></li>
  			<li role="presentation" class="active"><a href="index.html"><span style="font-size: large">Cadastro de Usuários</a></span></li>
  		</ul>
	</nav>

	<section>

	<h2><i>Cadastro de Usuários</i></h2>
	<article>
		<div class="alert alert-info" style="font-size:medium"><strong>
			Um usuário pode ser gerado automáticamente ou poderá ser adicionado manualmente.</Strong>
		</div>
	</article>

	<article>
		<form role="form">
			<div class="input-group">
			     <span class="input-group-addon"  >Usuário</span>
      
			</div>
			<div class="input-group">
                <label class="input-group-addon" for="txtSexo">Sexo:</Label>
                 <input  type="text" id="txtSexo" class="form-control"  aria-describedby="basic-addon1">
   	  	    </div>
            <div class="input-group">
				<Label class="input-group-addon" for="txtNome">Nome</Label>
 					</div>
            <div class="input-group">
							<Label class="input-group-addon" for="txtTitulo">Título:</Label>
							<input type="text" id="txtTitulo" class="form-control"  aria-describedby="basic-addon1"/>
						</div>
            <div class="input-group">
							<Label class ="input-group-addon" for="txtPrimeiro">Primeiro:</Label>
							<input type="text" id="txtPrimeiro" class="form-control"  aria-describedby="basic-addon1"/>
						</div>
            <div class="input-group">
							<Label class="input-group-addon" for="txtUltimo">Último:</Label>
							<input type="text" id="txtUltimo" class="form-control" placeholder="Último:" aria-describedby="basic-addon1"/>
						</div>
		   <div class="input-group">
                        <span class="input-group-addon" id="txtEndereco">Endereço</span>
   
				</div>
            <div class="input-group">
							<Label  class="input-group-addon" for="txtRua">Rua:</Label>
							<input type="text" id="txtRua" class="form-control"  aria-describedby="basic-addon1"/>
						</div>
            <div class="input-group">
							<Label class="input-group-addon" for="txtCidade">Cidade:</Label>
							<input type="text" id="txtCidade" class="form-control"  aria-describedby="basic-addon1"/>
						</div>
            <div class="input-group">
							<Label  class="input-group-addon" for="txtEstado">Estado:</Label>
							<input type="text" id="txtEstado" class="form-control"  aria-describedby="basic-addon1"/>
						</div>
            <div class="input-group">
							<Label class="input-group-addon" for="txtCep">Cep:</Label>
							<input type="text" id="txtCep"class="form-control"  aria-describedby="basic-addon1"/>
				</div>
            <div class="input-group">
					<Label  class="input-group-addon" for="txtEmail">Email:</Label>
					<input type="text" id="txtEmail" class="form-control" aria-describedby="basic-addon1"/>
			</div>
            <div class="input-group">
					<Label class="input-group-addon" for="txtUsuario">Usuario:</Label>
					<input type="text" id="txtUsuario"class="form-control"  aria-describedby="basic-addon1"/>
				</div>
            <div class="input-group">
					<Label class="input-group-addon" for="txtSenha">Senha:</Label>
					<input type="text" id="txtSenha" class="form-control"  aria-describedby="basic-addon1"/>
				</div>
            <div class="input-group">
					<Label class="input-group-addon" for="txtTelefone">Telefone:</Label>
					<input type="text" id="txtTelefone"class="form-control"  aria-describedby="basic-addon1"/>
			</div>
            <div class="input-group">
					<Label class="input-group-addon" for="txtCelular">Celular:</Label>
					<input type="text" id="txtCelular"class="form-control"  aria-describedby="basic-addon1"/>
				</div>
            <div class="input-group">
					<Label class="input-group-addon" for="txtNacionalidade">Nacionalidade:</Label>
                    <label for="txtNacionalidade"></label>
					<input type="text" id="txtNacionalidade" class="form-control"  aria-describedby="basic-addon1"/>
				</div>
            <div class="input-group">
                <label class="input-group-addon" for="txtImagem">Imagem</label>
					</div>
            <div class="input-group">
							<label class="input-group-addon" for="txtLarge">Large:</label>
							<input type="text" id="txtLarge"class="form-control"  aria-describedby="basic-addon1"/>
						</div>
            <div class="input-group">
							<label class="input-group-addon" for="txtMedium">Medium:</label>
							<input type="text" id="txtMedium" class="form-control"  aria-describedby="basic-addon1"/>
				</div>
            <div class="input-group">
							<label class="input-group-addon" for="txtThumbnail">Thumbnail:</label>
							<input type="text" id="txtThumbnail" class="form-control"  aria-describedby="basic-addon1"/>
				</div>
               <div class="input-group">
					<button type="submit" value="Salvar" id="btnSalvar" class="btn btn-primary">Salvar</button>
                   </div>
	</form>

	</article>

	</section>

<footer>
<p>&copy; 2015. Todos os direitos reservados</p>
</footer>

</body>
</html>
